<?xml version="1.0"?>
<robot
	xmlns:xacro="http://www.ros.org/wiki/xacro"
	name="open_base"
>

	<xacro:include filename="$(find dot_description)/xacro/rim.urdf.xacro"/>

	<link name="origin_link"/>
	<link name="base_link">

	<inertial>

		<mass value="0.07862944645"/>
		<inertia
			ixx="0.00002035985530754"
			ixy="0"
			ixz="0"
			iyy="0.00002035985530754"
			iyz="0"
			izz="0.00003945961663220"
		/>

	</inertial>
	<visual>

		<geometry>

			<mesh filename="package://dot_description/mesh/base.stl"/>

		</geometry>
		<material name="base_material">

			<color rgba="1 1 1 1"/>

		</material>

	</visual>
	<collision>

		<geometry>

			<mesh filename="package://dot_description/mesh/base.stl"/>

		</geometry>

	</collision>

	</link>
	<joint
		name="base_joint"
		type="fixed"
	>

		<parent link="origin_link" />
		<child link="base_link" />
		<origin
			xyz="0 0 0.01905"
		/>

	</joint>
	<!-- <xacro:rim_macro
		name="left"
		color="0.3 0 0"
		xyz="-0.03464101615 0.02 0"
		rpy="1.570796326794896 0 1.047197551196597"
	/>
	<xacro:rim_macro
		name="back"
		color="0 0.3 0"
		xyz="0 -0.04 0"
		rpy="1.570796326794896 0 3.141592653589793"
	/>
	<xacro:rim_macro
		name="right"
		color="0 0 0.3"
		xyz="0.03464101615 0.02 0"
		rpy="1.570796326794896 0 -1.047197551196597"
	/> -->
	<xacro:rim_macro
		name="left"
		color="0.3 0 0"
		xyz="0.0407838 -0.0190178218 -0.025"
		rpy="1.570796326794896 0 1.047197551196597"
	/>
	<xacro:rim_macro
		name="back"
		color="0 0.3 0"
		xyz="-0.001 0.041 -0.025"
		rpy="1.570796326794896 0 3.141592653589793"
	/>
	<xacro:rim_macro
		name="right"
		color="0 0 0.3"
		xyz="-0.03464101615 -0.02 -0.025"
		rpy="1.570796326794896 0 -1.047197551196597"
	/>
	<gazebo>

		<plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">

			<robotNamespace>/dot</robotNamespace>

		</plugin>
	</gazebo>

	<joint name="dummy_joint" type="fixed">
    <parent link="base_link"/>
    <child link="platform_base"/>
	<origin rpy="0 0 0" xyz="0 0 0.028" />
</joint>

<link name='platform_base'>
    <inertial>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <mass value="0.2"/>
        <inertia ixx="0.06" ixy="0" ixz="0" iyy="0.06" iyz="0" izz="0.12"/>
    </inertial>
    <visual>
        <material name="Cyan">
            <color rgba="0 1.0 1.0 1.0" />
        </material>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
            <box size="0.092 0.092 0.002"/>
        </geometry>
       
    </visual>
    <collision>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
            <box size="0.092 0.092 0.002"/>
        </geometry>
    </collision>
</link>
<gazebo reference="platform_base">
    <material>Gazebo/Black</material>
    <kp>10000000.0</kp>
    <kd>1.0</kd>
    <mu1>4.0</mu1>
    <mu2>4.0</mu2>
    <maxVel>0.0</maxVel>
    <minDepth>0.001</minDepth>
</gazebo>

<joint name="dummy_base" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.013" />
    <parent link="platform_base"/>
    <child link="ball"/>
</joint>


<link name='ball'>
    <inertial>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <mass value="0.5"/>
        <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>
    </inertial>
    <visual>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
            <sphere radius="0.013"/>
        </geometry>
        <material name="gray">
            <color rgba="0.7 0.7 0.7 1"/>
        </material>
    </visual>
    <collision>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
            <sphere radius="0.013"/>
        </geometry>
    </collision>
</link>

<gazebo reference="ball">
    <material>Gazebo/DarkGrey</material>
    <kp>10000000.0</kp>
    <kd>1.0</kd>
    <mu1>4.0</mu1>
    <mu2>4.0</mu2>
    <maxVel>0.0</maxVel>
    <minDepth>0.001</minDepth>
</gazebo>

<link name='platform'>
    <inertial>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <mass value="0.2"/>
        <inertia ixx="0.06" ixy="0" ixz="0" iyy="0.06" iyz="0" izz="0.12"/>
    </inertial>
    <visual>
        <material name="Cyan">
            <color rgba="0 1.0 1.0 1.0" />
        </material>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
            <box size="0.092 0.092 0.002"/>
        </geometry>
       
    </visual>
    <collision>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
            <box size="0.092 0.092 0.0015"/>
        </geometry>
    </collision>
</link>
<gazebo reference="platform">
    <material>Gazebo/Orange</material>
    <kp>10000000.0</kp>
    <kd>1.0</kd>
    <mu1>4.0</mu1>
    <mu2>4.0</mu2>
    <maxVel>0.0</maxVel>
    <minDepth>0.001</minDepth>
</gazebo>


<link name='platform_mid'>
    <inertial>
        <origin rpy="1.57 0 0" xyz="0 0 0"/>
        <mass value="0.1"/>
        <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.12"/>
    </inertial>
    <visual>
        <material name="black">
            <color rgba="0 0 0 1.0" />
        </material>
        <origin rpy="1.57 0 0" xyz="0 0 0"/>
        <geometry>
            <cylinder radius="0.001" length="0.002" />
        </geometry>
    </visual>
    <collision>
        <origin rpy="1.57 0 0" xyz="0 0 0"/>
        <geometry>
            <cylinder radius="0.001" length="0.002" />
        </geometry>
    </collision>
</link>
<gazebo reference="platform_mid">
    <material>Gazebo/White</material>
    <kp>10000000.0</kp>
    <kd>1.0</kd>
    <mu1>4.0</mu1>
    <mu2>4.0</mu2>
    <maxVel>0.0</maxVel>
    <minDepth>0.001</minDepth>
</gazebo>


<joint name='rev_x' type='revolute'>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.014"/>
    <parent link="ball"/>
    <child link="platform_mid"/>
    <axis xyz="1 0 0"/>
    <limit lower="-0.05" upper="0.05" effort="2e+2" velocity="1" />
</joint>

<joint name='rev_y' type='revolute'>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.001"/>
    <parent link="platform_mid"/>
    <child link="platform"/>
    <axis xyz="0 1 0"/>
    <limit lower="-0.05" upper="0.05" effort="2e+2" velocity="1" />
</joint>


<transmission name="simple_trans1">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rev_x">
    <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor_x">
    <mechanicalReducation>50</mechanicalReducation>
    <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </actuator>
</transmission>

<transmission name="simple_trans2">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rev_y">
    <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor_y">
    <mechanicalReducation>50</mechanicalReducation>
    <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </actuator>
</transmission>
</robot>
